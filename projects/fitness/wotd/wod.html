<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WOTD</title>
    <link rel="icon" href="images/crossfitlogo.png"/>
</head>
<body onload="showList()">

<script>
    async function loadNames() {
        const response = await fetch('wods/wotd.json');
        const wods = await response.json();

        console.log(wods);
        return wods;
    }
    wods = loadNames();

    function showList() {
        fetch('wods/wotd.json')
            .then(response => response.json())
            .then(data => createList(data))
    }

    function createList(data) {
        const mainUL = document.createElement('ol');
        for (let i = 0; i < data.length; i++) {
            const wodLI = document.createElement('li');
            wodLI.innerHTML = data.result[i].name;

            const exerciseUL = document.createElement('ul');
            for (var key in data.result[i].exercises) {
                const exercisesLI = document.createElement('li');
                exercisesLI.innerHTML = key + ': ' + data.result[i].exercises[key];
                exerciseUL.appendChild(exercisesLI);
            }

            wodLI.appendChild(exerciseUL);
            mainUL.appendChild(wodLI);
        }
        document.body.appendChildUL;
    }


</script>
</body>
</html>